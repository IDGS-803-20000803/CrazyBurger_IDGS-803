{% extends "layout.html" %}
{% block title %}EDITAR COMPRA{% endblock %}
{% block description %}PROCESO DE COMPRA{% endblock %}
{% block content %}
<div class="container__detail">
  <div class="detail">
    <div class="detail__img">
      <div>
        <img src="../static/img/producto.png" alt="PRODUCTO">
      </div>
    </div>
    <div class="form__detail">
      <h1>Generar pedido</h1>
      <form action="/pedido/generarPedido" method="POST">
        {% for platillo in platillos %}
        <input type="number" name="id" id="id" placeholder="Id del producto" value="{{ platillo[0] }}" hidden>
        <div class="inputs">
          <input class="nombrePlatillo" type="text" name="name" id="name" value="{{ platillo[1] }}" disabled
            style="border: none;">
          <input type="number" name="precioUnitario" id="precio" value="{{ platillo[7] }}" class="precioPlatillo"
            disabled style="border: none;">
        </div>
        <span>{{ platillo[2] }}</span>
        {% endfor %}
        <input type="hidden" name="csrf_token" value="{{csrf_token()}}" />
        <div class="inputs">
          <div class="input_unidades">
            <button style="border: none; border-radius: 0%;" class="resta" type="button">-</button>
            <input type="text" name="unidades" id="unidades" value="1">
            <button style="border: none; border-radius: 0%;" class="suma" type="button">+</button>
          </div>
          <input type="submit" value="Agregar">
        </div>
      </form>
    </div>
  </div>
</div>

<script>
  var unidadesInput = document.getElementById('unidades');
  var restaButton = document.querySelector('.resta');
  var sumaButton = document.querySelector('.suma');

  restaButton.addEventListener('click', function () {
    var unidades = parseInt(unidadesInput.value);
    unidadesInput.value = unidades - 1;
  });

  sumaButton.addEventListener('click', function () {
    var unidades = parseInt(unidadesInput.value);
    unidadesInput.value = unidades + 1;
  });
</script>

{% endblock %}